generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Settings {
  id Int @id @default(autoincrement())

  headerLogo     String
  headerDarkLogo String

  footerLogo     String
  footerDarkLogo String
  description    String

  twitter   String
  linkedIn  String
  facebook  String
  instagram String
  telegram  String

  siteName String

  homeTitle    String
  homeSubTitle String

  contactTitle    String
  contactSubTitle String
  email           String
  phone           String
}

model Blog {
  id               String   @id @default(cuid())
  title            String
  slug             String
  user             User     @relation(fields: [userId], references: [id])
  userId           String
  category         Category @relation(fields: [categoryId], references: [id])
  categoryId       Int
  thumbnail        String
  shortDescription String
  featuredImage    String?
  content          String
  views            Int      @default(0)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}

model Category {
  id    Int    @id @default(autoincrement())
  title String
  slug  String
  Blogs Blog[]
}

model User {
  id    String   @id @default(cuid())
  email String   @unique
  type  UserType @default(USER)

  fullName    String?
  avatar      String?
  description String?
  twitter     String
  linkedIn    String
  facebook    String
  instagram   String
  telegram    String

  Blogs Blog[]
}

enum UserType {
  ADMIN
  AUTHOR
  USER
}
